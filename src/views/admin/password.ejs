<!DOCTYPE html>
<html lang="pr-BR">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />

  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
  <link rel="stylesheet" href="/stylesheets/style-adm.css">
  <title>Nova Senha</title>
</head>

<body>
  <div class="admin-container">
    <img class='logo' src="/images/assets/logoDE.png" width="100px" alt="">
    <div class="info">
      <h1>Seja bem vindo, <span><%=user.name%> </span> </h1>
      <img src="/images/assets/undraw_authentication_fsn5.svg" alt="">
    </div>
    <div class="form">
      <h1><span>Nova Senha</span></h1>
      <form action="/admin/password?_method=PUT" method="POST" id="form-pass">
        <input type="hidden" name="id" value="<%=user.id%>">
        <input type="hidden" name="token" value="<%=token%>">
        <div class="mb-3">
          <label for="formGroupExampleInput" class="form-label">Senha</label>
          <input type="password" name="password" class="form-control" id="formGroupExampleInput"
            placeholder="Digite a senha">
        </div>
        <div class="mb-3">
          <label for="formGroupExampleInput2" class="form-label">Confirma Senha</label>
          <input type="password" class="form-control" id="confirm-password" placeholder="Confirme a senha">
        </div>
        <button type="submit" class="btn btn-info  btn-person">Salvar</button>
      </form>
    </div>
  </div>
  <script>
    const password = document.querySelector('input[name="password"]')
    const confirmPassword = document.querySelector('#confirm-password')
    const form = document.querySelector('#form-pass')
    const submit = document.querySelector("button[type='submit']")
    console.log(password, confirmPassword, submit);
    submit.addEventListener('click', e => {
      e.preventDefault()
      if (confirmPassword.value != password.value) {
        toastr["error"]("As senhas n√£o conferem", "Erro")

        toastr.options = {
          "closeButton": false,
          "debug": false,
          "newestOnTop": false,
          "progressBar": true,
          "positionClass": "toast-top-right",
          "preventDuplicates": false,
          "onclick": null,
          "showDuration": "300",
          "hideDuration": "1000",
          "timeOut": "5000",
          "extendedTimeOut": "1000",
          "showEasing": "swing",
          "hideEasing": "linear",
          "showMethod": "fadeIn",
          "hideMethod": "fadeOut"
        }
        form.reset()
      }else{
        form.submit()
      }
    })
  </script>
  <!-- Optional JavaScript; choose one of the two! -->

  <!-- Option 1: Bootstrap Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
  </script>

  <!-- Option 2: Separate Popper and Bootstrap JS -->
  <!--
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
  -->
</body>

</html>